/* kmslab_editor 1.0.03 */

!function(a){function b(a){return a.replace(/[^\/]+\/?$/,"")}function c(b){if(s[b])return s[b];for(var c=a.getElementsByTagName("script"),d=0;d<c.length;d++)if(c[d].src.indexOf(b)>=0)return s[b]=c[d],s[b];throw"cannot find '"+b+"' script element"}function d(a){try{var b=c(a),d=b.src;return d.substring(d.indexOf("?")+1)}catch(a){return""}}function e(a){try{var b=c(a),d=b.src.match(p);if(d&&2==d.length)return d[1]}catch(a){}return""}function f(a){return q[a]||n}function g(a){return t.parse(d(w.NAME),"&").findByName(a)}function h(b){var c=t.parse(a.cookie,/;[ ]*/),d=c.findByName(o+b);return d?decodeURIComponent(d):d}function i(b){var c=a.createElement("script");return c.type="text/javascript",c.src=b,c}function j(b){var c=a.location;if(b.match(/^(https?:|file:|)\/\//));else if(0===b.indexOf("/"))b="http://"+c.host+b;else{var d=c.href,e=d.lastIndexOf("/");b=d.substring(0,e+1)+b}return b}function k(b,c){var d=i(b),e=a.getElementsByTagName("head")[0]||a.documentElement;return l(d,e,c),e.insertBefore(d,e.firstChild),d}function l(a,b,c){c&&(a.onload=a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(c(),/MSIE/i.test(navigator.userAgent)&&(a.onload=a.onreadystatechange=null,b&&a.parentNode&&b.removeChild(a)))})}function m(b){"object"==typeof b&&"function"==typeof b.fn&&(b.config&&null!=b.config.editor_instanceId?r.then(function(c){var d=c.replace(/\$\{instanceId\}/g,b.config.editor_instanceId||"");d=d.replace(/\$\{iconPath\}/g,b.config.iconPath||""),d=d.replace(/\$\{skinPath\}/g,b.config.skinPath||""),$(b.config.editor_wrapper).html(d),b.config.editor_language&&$(".tx-editor-container",b.config.editor_wrapper).addClass(b.config.editor_language),$tx.msie&&a.documentMode<8&&($tx.ltie8=!0,$(".tx-editor-container",b.config.editor_wrapper).addClass("ltie8")),$tx.msie&&($(".tx-toolbar-boundary *, .tx-toolbar-boundary").on("selectstart",function(){return!1}),$(".tx-toolbar-boundary *, .tx-toolbar-boundary").on("drag",function(){return!1})),b.fn(Editor)},function(){}):b.fn(Editor))}var n="",o="tx_",p=/\/(\d+[a-z.]?\.[a-z0-9\-]+\.[\-\w]+)\//,q={environment:"production",service:"core",version:"",host:""},r=null,s={},t=function(){this.data=[]};t.prototype={add:function(a,b){this.data.push({name:a,value:b})},findByName:function(a){for(var b,c=0;c<this.data.length;c++)if(this.data[c]&&this.data[c].name===a){b=this.data[c].value;break}return b}},t.parse=function(a,b){for(var c=new t,d=a.split(b),e=0;e<d.length;e++){var f=d[e].split("=");c.add(f[0],f[1])}return c};var u=function(a){this.TIMEOUT=5e3,this.readyState="uninitialized",this.url=a.url,this.callback=a.callback||function(){},this.id=a.id,this.load()};u.prototype={load:function(){var a=this.url,b=this;try{c(a)}catch(c){b.readyState="loading";var d=k(a,function(){b.callback(),b.readyState="complete"});b.id&&(d.id=b.id)}return this},startErrorTimer:function(){var a=this;setTimeout(function(){"complete"!==a.readyState&&a.onTimeout()},a.TIMEOUT)},onTimeout:function(){},onLoadComplete:function(){}};var v=[],w={NAME:"editor_loader.min.js",TIMEOUT:5e3,readyState:"uninitialized",loadModule:function(b){var c=function(a){return!a.match(/^((https?:|file:|)\/\/|\.\.\/|\/)/)}(b)?this.getJSBasePath()+b:b;"development"===q.environment?c=c+"?dummy="+(new Date).getTime():w._VER&&(c+="?_ver="+w._VER),a.write('<script type="text/javascript" src="'+c+'" charset="utf-8"><\/script>')},asyncLoadModule:function(a){return new u(a)},ready:function(a,b){"complete"===this.readyState?m({fn:a,config:b}):v.push({fn:a,config:b})},finish:function(){for(var a=0;a<v.length;a++)m(v[a]);v=[]},getBasePath:function(a){var d=h("base_path");if(!d){d=b(b(c(a||w.NAME).src))}return j(d)},getJSBasePath:function(a){return this.getBasePath()+"js/"},getCSSBasePath:function(){return this.getBasePath()+"css/"},getPageBasePath:function(){return this.getBasePath()+"pages/"},getOption:function(a){return h(a)||g(a)||f(a)},_VER:""};window.EditorJSLoader=w,function(){var a="editor_lib.min.js",b="editor.min.js?6.1909.1.1";q.js_min=!0;try{c(w.NAME)}catch(c){w.NAME="editor_loader.js",a="editor_lib.js",b="editor.js",q.js_min=!1}q.version=e(w.NAME);var d=g("environment");d&&(q.environment=d);var f=g("i18n");f&&(q.i18n=f);var h=g("_ver");h&&(w._VER=h);var i=window._KEDITOR_BODY_PATH?window._KEDITOR_BODY_PATH:w.getPageBasePath()+"editor_body.html"+(h?"?open&_ver="+h:"");r=$.ajax({url:i,dataType:"html"}).then(function(a){return window[f].format(a,!1)},function(){alert("본문 가져오기 오류.")}),w.loadModule(a),w.loadModule(b)}()}(document);
