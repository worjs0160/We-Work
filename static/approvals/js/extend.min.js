/** Korean initialisation for the jQuery calendar extension. */

// validate redefine
jQuery.validator.setDefaults({
	ignore: "",
	ignoreTitle:true,
	focusInvalid: false,
	onkeyup: false,
	onclick: false,
	onfocusout: false,
	invalidHandler: function(form, validator) {
		var errors = validator.numberOfInvalids();
		if (errors) {
			$("#popup_alert").data('msg', validator.errorList[0].message + ($(validator.errorList[0].element).attr('ename') ? $(validator.errorList[0].element).attr('ename') : validator.errorList[0].element.id)).lw_dialog('open',
			{
				close: function(){
					try
					{
						$(validator.errorList[0].element).focus();
					}
					catch(e)
					{
						//
					}
				}
			});
		}
	},
	errorPlacement: function(error, element) {
		// Override error placement to not show error messages beside elements //
        //error.inertsAfter('#invalid-' + element.attr('id'));
	}
});

// valiate message redefined
jQuery.extend(jQuery.validator.messages, {
    required: window.pub.langs_js('18'),
    remote: window.pub.langs_js('2'),
    email: window.pub.langs_js('3'),
    url: window.pub.langs_js('4'),
    date: window.pub.langs_js('5'),
    dateISO: window.pub.langs_js('6'),
    number: window.pub.langs_js('7'),
    digits: window.pub.langs_js('8'),
    creditcard: window.pub.langs_js('9'),
    equalTo: window.pub.langs_js('10'),
    accept: window.pub.langs_js('11'),
    maxlength: $.validator.format(window.pub.langs_js('12')),
    minlength: $.validator.format(window.pub.langs_js('13')),
    rangelength: $.validator.format(window.pub.langs_js('14')),
    range: $.validator.format(window.pub.langs_js('15')),
    max: $.validator.format(window.pub.langs_js('16')),
    min: $.validator.format(window.pub.langs_js('17')),
});

// form valiate metadata setting
$.metadata.setType("attr", "validate");

/*
 * from 객체 json형식으로 직렬화
 */
jQuery.fn.serializeObject = function()
{
	var o = {};
	var a = this.serializeArray();
	$.each(a, function() {
		if (o[this.name] !== undefined) {
			if (!o[this.name].push) {
				o[this.name] = [o[this.name]];
			}
			o[this.name].push(this.value || '');
		} else {
			o[this.name] = this.value || '';
		}
	});
	return o;
};