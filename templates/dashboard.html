{% extends 'index.html' %} 

{% block title %}
  메인 페이지
{% endblock title %} 

    {% block link-area %}
        <!-- 대시보드 CSS -->
        <link href="css/styles_dash.css" rel="stylesheet" />
    {% endblock link-area %}

    {% block script-head %}
        <!-- 대시보드 스크립트 -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="js/scripts.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/chart-area-demo.js"></script>
        <script src="assets/demo/chart-bar-demo.js"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/datatables-demo.js"></script>
        <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" crossorigin="anonymous"/>
    {% endblock script-head %}

{% block content %}
    <div class="sb-nav-fixed">
        <div class="container-fluid">
            <h1 class="mt-4">메인페이지</h1>

            <div class="row">
                <div class="col-lg-6">
                    <div class="card mb-4">

                        <div class="card-header">
                            <i class="fas fa-chart-pie mr-1"></i>
                            근무비율
                        </div>

                        <div class="card-body">
                            <canvas id="myPieChart" width="100%" height="50"></canvas>
                            <script>
                                // 그릴 캔버스의 컨텍스트 가져오기
                                var ctx = document.getElementById("myPieChart");
                            
                                /*
                                - Chart를 생성하면서, 
                                - ctx를 첫번째 argument로 넘겨주고, 
                                - 두번째 argument로 그림을 그릴때 필요한 요소들을 모두 넘겨줍니다. 
                                */

                                var myPieChart = new Chart(ctx, {
                                    type: 'pie',
                                    data: {
                                        labels: ["Blue", "Red", "Yellow", "Green"],
                                        datasets: [{
                                            data: [12.21, 15.58, 11.25, 8.32],
                                            backgroundColor: ['#007bff', '#dc3545', '#ffc107', '#28a745'],
                                        }],
                                    },
                                });
                            </script>
                        </div>
                        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="card mb-4">
                        <div class="card-header">
                            <i class="fas fa-chart-bar mr-1"></i>
                            근무시간
                        </div>
                        <div class="card-body">
                            <canvas id="myBarChart" width="100%" height="50"></canvas>
                            <script>
                                // Bar Chart Example
                                var ctx = document.getElementById("myBarChart");
                                var myLineChart = new Chart(ctx, {
                                  type: 'bar',
                                  data: {
                                    labels: ["January", "February", "March", "April", "May", "June"],
                                    datasets: [{
                                      label: "Revenue",
                                      backgroundColor: "rgba(2,117,216,1)",
                                      borderColor: "rgba(2,117,216,1)",
                                      data: [4215, 5312, 6251, 7841, 9821, 14984],
                                    }],
                                  },
                                  options: {
                                    scales: {
                                      xAxes: [{
                                        time: {
                                          unit: 'month'
                                        },
                                        gridLines: {
                                          display: false
                                        },
                                        ticks: {
                                          maxTicksLimit: 6
                                        }
                                      }],
                                      yAxes: [{
                                        ticks: {
                                          min: 0,
                                          max: 15000,
                                          maxTicksLimit: 5
                                        },
                                        gridLines: {
                                          display: true
                                        }
                                      }],
                                    },
                                    legend: {
                                      display: false
                                    }
                                  }
                                });
                            </script>
                        </div>
                        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-table mr-1"></i>
                    공지사항
                </div>

                <div class="card-body">
                    {% include 'partials/table.html' %}
                </div>
            </div>
        </div>
    </div>

{% endblock content %}